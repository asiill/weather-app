(()=>{"use strict";const e=async e=>{const t=await e,n=document.getElementById("time"),i=document.getElementById("location"),o=document.getElementById("weather-icon"),d=document.getElementById("description"),c=document.getElementById("actual-temp"),a=document.getElementById("feels-like"),m=document.getElementById("humidity"),r=document.getElementById("wind");n.textContent=(e=>{let t=new Date,n=t.getTime()+6e4*t.getTimezoneOffset(),i=new Date(n+1e3*e),o=i.getHours();o=(o<10?"0":"")+o;let d=i.getMinutes();return d=(d<10?"0":"")+d,`${o} h ${d}`})(t.timeZone),i.textContent=`${t.city}, ${t.country}`,o.src=`./images/${t.weatherIcon}.png`,o.alt=`${t.description}`,d.textContent=`${t.description}`.charAt(0).toUpperCase()+`${t.description}`.slice(1),c.textContent=`${t.temp} °C`,a.textContent=`${t.feelsLike} °C`,m.textContent=`${t.humidity} %`,r.textContent=`${t.wind} km/h`},t=async e=>{try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?units=metric&q=${e}&appid=e0eddfccee95b13df61f3efe4d0be7eb`),n=await t.json();return{timeZone:n.timezone,city:n.name,country:n.sys.country,weatherIcon:n.weather[0].icon,description:n.weather[0].description,temp:Math.round(n.main.temp),feelsLike:Math.round(n.main.feels_like),humidity:n.main.humidity,wind:Math.round(n.wind.speed)}}catch(e){return alert("Error: city not found",e),null}};e(t("barcelona"));const n=document.getElementById("search-form"),i=document.getElementById("location-input"),o=document.getElementById("submit-btn");n.addEventListener("submit",(e=>{e.preventDefault()})),o.addEventListener("click",(()=>{""!==i.value&&e(t(i.value))}))})();